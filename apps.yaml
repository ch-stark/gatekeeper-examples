---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: gitops1
  namespace: openshift-gitops
spec:
  destination:
    namespace: policies
    server: https://kubernetes.default.svc
  project: policies
  source:
    path: blog
    repoURL: https://github.com/ch-stark/argocdpoliciesblog
    targetRevision: HEAD
  syncPolicy:
    syncOptions:
    - CreateNamespace=true
    automated:
      selfHeal: false
      prune: true        
---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: gitops2
  namespace: openshift-gitops
spec:
  destination:
    namespace: policies
    server: https://kubernetes.default.svc
  project: policies
  source:
    path: policygenerator/policy-sets/stable/acm-hardening
    repoURL: https://github.com/ch-stark/policy-collection
    targetRevision: HEAD
  syncPolicy:
    syncOptions:
    - CreateNamespace=true
    automated:
      selfHeal: false
      prune: true 
